<html>

<head>
<script src="../js/sweetalert2.min.js"></script>
<link rel="stylesheet" href="../styles/sweetalert2.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.blue-light_blue.min.css">
<script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>
<link rel="stylesheet" href="../styles/style.css">
<link rel="stylesheet" href="../styles/button.css">
<script type="text/javascript" src="../js/jquery-3.0.0.min.js"></script>
<script type="text/javascript" src="../js/base_url.js"></script>

<script>
		function myFunction() {
			
		    window.open("sign_up.html",
"mywindow","status=1,toolbar=0");
		document.oncontextmenu = document.body.oncontextmenu = function() {return false;}
	}
		
</script>

<script>
//--------------------------------------------------------------jQuery implemntation------------------------------------------------------------

         	
			$(document).ready(function()
			{
  			 console.log("ready");
   			 $("#signInButton").click(function()
   			 	{console.log("clicked");
               		var username1 = $("#username").val();
         			var password1 = $("#password").val();
   			 		console.log(username1 , password1);

              if (username1 == null || password1 == null ||username1=="" || password1=="") 
              {
                  swal({
                        title: 'Cannot Proceed',
                        text: 'Please fill both the fields to continue.',
                        type: 'error',
                        confirmButtonText: 'OK'
                        })
    
    
              }

              else 
              {
            	var response = "";
				var form_data = {
						    username: username1,
						    password: password1
										};
						$.ajax({
									type: "POST",
						    		url: base_url + "sign_in.php",
						    		data: form_data,
						    		success: function(response)
						    		{						     
						       			var message = response.message;
						       			console.log("in ajax");
						       			console.log(response.message);
						       			switch (message) 
                        			 {
                          				case "Success" : document.cookie ="id = response.id; token = response.token; first_name=response.first_name; last_name = response.last_name; username = response.username; email_address= response.email_address; mobile_number=response.mobile_number; image_link=response.image_link ";
                              //direct to home page.
                               				break;
                          				case "Invalid Account": swal({
                          				                  title: 'Invalid Account',
                          				                  text: 'Entered data does not match with any account.\nPlease verify and re-enter.\nOr Sign Up.',
                          				                  type: 'error',
                          				                  confirmButtonText: 'OK'
                          				              })
                          				    break;
                      					default :         swal({
                          				                  title: 'Error',
                          				                  text: response.message,
                          				                  type: 'error',
                          				                  confirmButtonText: 'OK'
                          				              })
                          				    break;
                         			 }						       			
						     },
						     error:function(error){console.log(error);},
						    dataType: 'json'
						  	});        
              }  	
				});
   			});


</script>


</head>

<body> 
	<table  width="100%" class="background" >
	<tr>
	<td align="center">
		<input  type="image" src="./photo/bykar_ white.png" class="background" width="180px" height="50px">
	</td>
	</tr>
	<tr>
		<td bgcolor="#41a9d4" height="60px" align="center">
			<font face="verdana" color="white" size="4"> LOGIN</font>
		
		</td>
	</tr>
</table>
	<!--<form  name="clientLogin"  method="post" >-->
	<table  align="center" width="20%"  >
		
		<tr>
			<th height="100px"></th>
		</tr>
		<tr>
			<td class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
				 <input class="mdl-textfield__input" type="text" pattern="[A-Z,a-z,0-9,@,.]*" id="username" >
   				 <label class="mdl-textfield__label" for="username">User Name / Email Address</label>
   				  
 				
			</td>
		
		</tr>
		<tr>
			<td class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
				  
    			  <input class="mdl-textfield__input" type="password" id="password">
   				 <label  class="mdl-textfield__label" for="password">Password</label>
 				
			</td>
		</tr>
		
		<tr>

			<td align="right"><font size="1"><font face="verdana"><a href="./clientwebapp/forgot.php">Forgot Password</td>
		</tr>
		<tr>
			<td height="20px"></td>
		</tr>
		
		<tr>
		
		 <td align="center">
		
		<!-- Accent-colored raised button with ripple -->
			<button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary" id="signInButton"  name="signIn" >
			  SIGN IN
			</button>
			
		 </td>
		</tr>
		<tr>

			<td align="center"><font size="1"><font face="verdana" size="2">or</td>
		</tr>
		<tr>
		
			<td align="center" onclick="">
			<font size="1">
			<font face="verdana" size="2" color="#41a9d4">

			<button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary" onclick="myFunction();" name="signUp" >
			  SIGN UP
			</button>
		</tr>
	</table>

	
	
</body>
</html>


